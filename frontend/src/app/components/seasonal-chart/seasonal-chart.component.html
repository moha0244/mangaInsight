<div class="chart-card">
  <div class="chart-header">
    <div class="title-row">
      <h2>{{ content.title }}</h2>
      <span class="badge gray">{{ content.badge }}</span>
    </div>
  </div>
  <div class="chart-main">
    @if (options?.series?.[0]?.data?.length > 0) {
      <apx-chart
        [series]="options.series"
        [chart]="options.chart"
        [xaxis]="options.xaxis"
        [yaxis]="options.yaxis"
        [stroke]="options.stroke"
        [fill]="options.fill"
        [markers]="options.markers"
        [grid]="options.grid"
        [colors]="options.colors"
        [tooltip]="options.tooltip"
        style="width: 100%"
      ></apx-chart>
    } @else {
      <div class="loader-container">
        <span class="loader-text">Calcul des statistiques saisonnières...</span>
      </div>
    }
  </div>

  <div class="chart-footer">
    <div class="special-legend">
      <div class="legend-item">
        <span class="box purple"></span>
        <span>2024</span>
      </div>
      <div class="legend-item">
        <span class="box pink"></span>
        <span>2025</span>
      </div>
      <span class="divider">|</span>
      <span class="info">Bande = ± écart-type</span>
    </div>
    <p class="analysis-text">{{ content.description }}</p>
  </div>
</div>
